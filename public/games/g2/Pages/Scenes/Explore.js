import{gameData}from"../../Constants/gameData.js";class Explore{constructor(e){this.game=e,this.element=document.querySelector("#game_Container"),document.title="Explorando as Palavras!",gameData.mainScene="Explore",this.game.resetContainerToNewScene("ex"),this.start()}start(){this.buildContainer(),this.game.playAudio(gameAssets.nature_ambience,1,!0),this.setContainerElement()}buildContainer(){this.game.buildBg();const e=this.game.createNewElement("div","ex-header"),t=this.game.createNewElement("img","birds birds-left b-l",null,"./../Assets/imgs/general/bird.png"),s=this.game.createNewElement("img","birds birds-left b-s",null,"./../Assets/imgs/general/bird.png"),a=this.game.createNewElement("img","birds birds-right b-s",null,"./../Assets/imgs/general/bird.png"),n=this.game.createNewElement("img","birds birds-right b-l",null,"./../Assets/imgs/general/bird.png");t.setAttribute("alt","passarinho"),s.setAttribute("alt","passarinho"),a.setAttribute("alt","passarinho"),n.setAttribute("alt","passarinho"),e.append(t,s,a,n);const i=this.game.createNewElement("div","ex-main container"),r=this.game.createNewElement("div","searchContainer container"),c=this.game.createNewElement("form","exc-mn-search btn"),o=this.game.createNewElement("input","exc-mn-searchBar","exc-searchBar"),l=this.game.createNewElement("button","exc-mn-searchBtn","exc-searchBtn"),m=this.game.createNewElement("i","fa-solid fa-magnifying-glass");o.setAttribute("placeholder","digite uma palavra"),l.setAttribute("type","submite"),l.appendChild(m),c.append(o,l),r.appendChild(c);const d=this.game.createNewElement("div","wordSection"),g=this.game.createNewElement("div","container"),u=this.getImage("tree1"),h=this.game.createNewElement("p"),p=this.getImage("tree2");u.setAttribute("alt","arvore"),h.setAttribute("id","userText"),h.innerText=" ",p.setAttribute("alt","arvore"),g.append(u,h,p),d.appendChild(g),r.appendChild(d);const b=this.game.createNewElement("div","signContainer container"),w=document.querySelector("[vw-access-button]"),v=document.querySelector(".access");b.appendChild(v),w.click(),gameData.wereVLibrasActived?setTimeout((()=>this.setCloseBtn()),1e3):(setTimeout((()=>{this.setCloseBtn(),this.setSubtitle()}),1e4),gameData.wereVLibrasActived=!0),v.style.display="block",i.append(r,b);const E=this.game.createNewElement("div","ex-footer");for(let e=0;e<9;e++){let t=this.getImage(`grass${e+1}`);t.classList.add("ex-grass"),t.setAttribute("alt","grama"),E.appendChild(t)}const x=this.getImage("hand_slin");x.classList.add("ex-hand-slin");const A=this.getImage("char3");A.classList.add("ex-char3"),A.setAttribute("alt","menina com braço mecânico"),E.append(x,A),this.element.append(e,i,E)}setContainerElement(){const e=document.getElementById("exc-searchBtn"),t=document.getElementById("exc-searchBar"),s=document.getElementById("userText");document.querySelector("[vw-access-button]");e.addEventListener("click",(e=>{e.preventDefault(),t.value?(this.game.playAudio(gameAssets.btn_select),s.innerText=t.value,t.value="",this.readWithAccessibility()):this.game.popUpMessage("Digite alguma palavra no campo de pesquisa")}))}setCloseBtn(){const e=document.querySelector(".vpw-header-btn-close"),t=document.querySelector(".access");console.log(e),e?e.addEventListener("click",(()=>{t.style.display="none"})):(this.game.popUpMessage("O botão de fechar não foi encontrado !"),console.error("O botão de fechar não foi encontrado !"))}setSubtitle(){const e=document.querySelector(".vpw-controls-subtitles");e?e.click():this.game.popUpMessage("Botão subtitle não encontrado.")}readWithAccessibility(){const e=document.querySelector("#userText"),t=new MouseEvent("mouseover",{bubbles:!0,cancelable:!1,view:window}),s=new MouseEvent("mouseout",{bubbles:!0,cancelable:!1,view:window}),a=new MouseEvent("click",{bubbles:!0,cancelable:!1,view:window});e.dispatchEvent(t),setTimeout((()=>e.dispatchEvent(a)),200),e.dispatchEvent(s)}getImage(e){return gameAssets[e]}}export{Explore};